<div>
    <div style='position:absolute;'>
        <button class='popover-wrapper' style='height:48px;text-align:center;vertical-align:middle;'>
          <span>Click Me</span>
          <div class="popover">
            <ul style="list-style: none;" *ngFor='let a of headers'>
              <li><input type="checkbox" [(ngModel)]="a.visible">{{a.name}}</li>  
            </ul>
          </div>
        </button>
    </div>  
  <div style='position:absolute;padding-left:15%;'>
    <table >
        <thead>
          <tr>
            <th *ngFor="let a of headers" 
            class='popover-wrapper' 
            [ngClass]="!a.visible ? 'hidden' : 'visible'">
              <span>{{a.name}}</span>
              <div class="popover">
                <input type="text">
                <ul style='list-style:none;'>
                  <li><a href="">Sort Ascending</a></li>
                  <li><a href="">Sort Descending</a></li>
                </ul>
              </div>
            </th>   
          </tr>
        </thead>
        <tbody>
          <tr *ngFor='let x of data'>
              <td *ngFor='let key of objectKeys(x)' 
                [ngClass]="headers[objectKeys(x).indexOf(key)].visible ? 'visible': 'hidden'">
                <span>{{x[key]}}</span>
              </td>
          </tr>
        </tbody>
      </table>
  </div>
</div>